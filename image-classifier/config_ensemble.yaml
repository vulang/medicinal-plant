# Ensemble inference/evaluation config (ConvNeXt V2 Base + ViT-B/16 + Swin-B)
seed: 42
data_dir: data
train_dir: data/train
val_dir: data/val
test_dir: data/test

img_size: 224
batch_size: 16
num_workers: 4

# Keep a default model_name for compatibility, though the ensemble list below is used instead.
model_name: convnextv2_base.fcmae_ft_in22k_in1k
pretrained: true
use_timm_augment: true

device: cuda           # auto | cpu | cuda | mps
save_dir: models
outputs_dir: outputs

# ConvNeXt V2 Base + ViT-B/16 (in21k) + Swin-B ensemble.
# Update checkpoint paths to match your trained files (or regenerate with src/train_ensemble.py).
ensemble_models:
  - model_name: convnextv2_base.fcmae_ft_in22k_in1k
    checkpoint: models/convnextv2_base.fcmae_ft_in22k_in1k_best.pt
    weight: 0.34
  - model_name: vit_base_patch16_224_in21k
    checkpoint: models/vit_base_patch16_224_in21k_best.pt
    weight: 0.33
  - model_name: swin_base_patch4_window7_224_in22k
    checkpoint: models/swin_base_patch4_window7_224_in22k_best.pt
    weight: 0.33

mlflow:
  enabled: true
  tracking_uri: http://localhost:5000
  experiment_name: medicinal-plants
  run_name: convnext-vit-swin-ensemble-eval
  artifact_subdir: checkpoints
  eval_artifact_subdir: eval
